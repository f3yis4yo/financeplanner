#:kivy 2.3.1
<MyLogin>:
    name: 'my_login'
    GridLayout:
        cols: 3
        spacing: 5
        padding: 10
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        column_minimum: 0, self.width * 0.10, self.width * 0.80, self.width * 0.10

        # Fila A - Logo
        Label:
            text: ""
            size_hint_x: None
            width: 0 
        Image:
            source: 'images/logo.png'
            allow_stretch: True
            keep_ratio: True
            size_hint_y: None
            height: dp(200)  # Adjust as needed for your logo size
        Label:
            text: ""
            size_hint_x: None
            width: 0 

        # Fila B
        Label:
            text: ""
            size_hint_x: None
            width: 0 
        Label:
            text: "Login"
            font_size: 25   
            bold: True 
            color: 0, 0, 0, 1
            halign: 'left'
        Label:

        # Fila C
        Label:
            text: "C1"
        Label:
            text: "Username"
            color: 0, 0, 1, 1
            size_hint_x: None
            width: self.texture_size[0]
            halign: 'left'
        Label:

        # Fila D
        Label:
            text: "D1"
        TextInput:
            id: user_input
            hint_text: "Enter your username"
        Label:

        # Fila E
        Label:
            text: "E1"
        Label:
            text: "Password"
            color: 0, 0, 1, 1
            size_hint_x: None
            width: self.texture_size[0]
            halign: 'left'
        Label:

        # Fila F
        Label:
            text: "F1"
        TextInput:
            id: password_input
            hint_text: "Enter your password"
            password: True
        Label:

        Label:
            text: "G1"
        Label:
            text: root.login_error
            color: 1, 0, 0, 1 # Color rojo para indicar error
            halign: 'center'
            size_hint_y: None
            height: 20
        
        Label:

        # Fila G
        Label:
            text: "G1"
        Button:
            text: "Login"
            height: dp(40)
            size_hint_y: None
            background_color:  0.2, 0.8, 1, 1 #(aqua/cyan) match logo
            background_normal: ''
            color: 1, 1, 1, 1
            on_press: root.do_login()
        
        Label:

        # Fila H
        Label:
            text: "H1"
        Button:
            text: "Register"
            color: 0.2, 0.7, 0.2, 1  # Green text (green lime)
            height: dp(40)
            size_hint_y: None
            background_color: 1, 1, 1, 1  # White
            background_normal: ''
            border: (2, 2, 2, 2) # Ancho del borde: izquierda, arriba, derecha, abajo
            on_press: root.manager.current = 'register_screen'
            canvas.before:
                Color:
                    rgba: 0.4, 0.9, 0.2, 1  # Light green border (matches logo)
                Line:
                    width: 2
                    rectangle: self.x, self.y, self.width, self.height
        Label:

        # Fila Q
        Label:
            text: "Q1"
        Button:
            text: "Forgot password?"
            color: 0, 0, 1, 1
            width: self.texture_size[0]
            halign: 'left'
            underline: True
            background_color: (0, 0, 0, 0) 
            background_normal: ''
            border: (0, 0, 0, 0)
            on_press: root.manager.current = 'recover_screen'
            cursor: 'hand'
        Label: